{"version":3,"names":["Pieces","React","memo","board","useBoard","refs","usePieceRefs","pieceSize","useChessboardProps","toPosition","useReversePiecePosition","map","row","y","piece","x","square","current","color","type"],"sources":["pieces.tsx"],"sourcesContent":["import React from 'react';\nimport { useChessboardProps } from '../context/props-context/hooks';\n\nimport { useBoard } from '../context/board-context/hooks';\nimport { usePieceRefs } from '../context/board-refs-context/hooks';\n\nimport Piece from './piece';\nimport { useReversePiecePosition } from '../notation';\n\nconst Pieces = React.memo(() => {\n  const board = useBoard();\n  const refs = usePieceRefs();\n  const { pieceSize } = useChessboardProps();\n  const { toPosition } = useReversePiecePosition();\n\n  return (\n    <>\n      {board.map((row, y) =>\n        row.map((piece, x) => {\n          if (piece !== null) {\n            const square = toPosition({\n              x: x * pieceSize,\n              y: y * pieceSize,\n            });\n\n            return (\n              <Piece\n                ref={refs?.current?.[square]}\n                key={`${x}-${y}`}\n                id={`${piece.color}${piece.type}` as const}\n                startPosition={{ x, y }}\n                square={square}\n                size={pieceSize}\n              />\n            );\n          }\n          return null;\n        })\n      )}\n    </>\n  );\n});\n\nexport { Pieces };\n"],"mappings":";;;;;;;AAAA;;AACA;;AAEA;;AACA;;AAEA;;AACA;;;;AAEA,MAAMA,MAAM,gBAAGC,cAAA,CAAMC,IAAN,CAAW,MAAM;EAC9B,MAAMC,KAAK,GAAG,IAAAC,gBAAA,GAAd;EACA,MAAMC,IAAI,GAAG,IAAAC,oBAAA,GAAb;EACA,MAAM;IAAEC;EAAF,IAAgB,IAAAC,yBAAA,GAAtB;EACA,MAAM;IAAEC;EAAF,IAAiB,IAAAC,iCAAA,GAAvB;EAEA,oBACE,4DACGP,KAAK,CAACQ,GAAN,CAAU,CAACC,GAAD,EAAMC,CAAN,KACTD,GAAG,CAACD,GAAJ,CAAQ,CAACG,KAAD,EAAQC,CAAR,KAAc;IACpB,IAAID,KAAK,KAAK,IAAd,EAAoB;MAAA;;MAClB,MAAME,MAAM,GAAGP,UAAU,CAAC;QACxBM,CAAC,EAAEA,CAAC,GAAGR,SADiB;QAExBM,CAAC,EAAEA,CAAC,GAAGN;MAFiB,CAAD,CAAzB;MAKA,oBACE,6BAAC,cAAD;QACE,GAAG,EAAEF,IAAF,aAAEA,IAAF,wCAAEA,IAAI,CAAEY,OAAR,kDAAE,cAAgBD,MAAhB,CADP;QAEE,GAAG,EAAG,GAAED,CAAE,IAAGF,CAAE,EAFjB;QAGE,EAAE,EAAG,GAAEC,KAAK,CAACI,KAAM,GAAEJ,KAAK,CAACK,IAAK,EAHlC;QAIE,aAAa,EAAE;UAAEJ,CAAF;UAAKF;QAAL,CAJjB;QAKE,MAAM,EAAEG,MALV;QAME,IAAI,EAAET;MANR,EADF;IAUD;;IACD,OAAO,IAAP;EACD,CAnBD,CADD,CADH,CADF;AA0BD,CAhCc,CAAf"}